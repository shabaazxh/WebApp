@using WebApp.Shared;
@page "/company/create"

@inject WebApp.Client.Services.ITodoItemService todoItemService

@inject HttpClient Http;
@inject NavigationManager Navigation;

<h3> Todo create </h3>

<EditForm Model="@todoItem" OnValidSubmit="CreateNewTodoItem">

    <DataAnnotationsValidator />

    <div class="form-group">
        <label class="custom-control-label"> Name</label>
        <InputText id="title" @bind-Value="todoItem.Title" class="form-control" />
        <ValidationMessage For="@(() => todoItem.Title)" />

        @*        <label class="custom-control-label"> Id</label>
            <InputNumber id="title" @bind-Value="todoItem.Id" class="form-control" />
            <ValidationMessage For="@(() => todoItem.Id)" />*@
    </div>

    <button type="submit" class="btn btn-primary">

        <i class="fas fa-save"></i>Create
    </button>
    <ValidationSummary />
</EditForm>



@code {

    private Ticket todoItem = new Ticket();

    async Task CreateNewTodoItem()
    {
        var result = todoItemService.CreateNewToDoItem(todoItem);

        Navigation.NavigateTo($"/todo");
    }
}